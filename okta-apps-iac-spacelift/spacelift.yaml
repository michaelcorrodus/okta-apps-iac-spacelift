version: "1"

stack_defaults:
  runner_image: public.ecr.aws/spacelift/runner-tofu:latest
  terraform_version: 1.6.6

stacks:
  - name: okta-dev
    project_root: infra/env/dev
    branch: main
    labels: [okta, dev]
    workspace: okta-dev
    autodeploy: false

  - name: okta-staging
    project_root: infra/env/staging
    branch: main
    labels: [okta, staging]
    workspace: okta-staging
    autodeploy: false

  - name: okta-prod
    project_root: infra/env/prod
    branch: main
    labels: [okta, prod]
    workspace: okta-prod
    autodeploy: false
